{% include 'header.html' %}
<script src="{{ url_for('static', filename='js/user.js') }}"></script>
<body>
  <div class="container-fluid" id="main">
    {% include 'top_menus.html' %}
    <div class="row row-offcanvas row-offcanvas-left">
      {% include 'left_menus.html' %}
      <div class="col-md-9 col-lg-10 main">
        <h3>Edit Profile</h3>
        <br>
        <form method="post" id="userForm" action="{{ url_for('update_profile') }}">
          <div class="modal-content">
            <div class="modal-body">

              <!-- Role field (disabled if user role is 'none') -->
              <div class="form-group">
                <label for="role" class="control-label">Role</label>
                <select class="form-control" id="role" name="role" {% if user.role != 'none' %} disabled {% endif %}>
                  <option value="none" {% if user.role == 'none' %}selected{% endif %}>None</option>
                  <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
                  <option value="user" {% if user.role == 'user' %}selected{% endif %}>User</option>
                </select>
              </div>

              <!-- Hidden field to submit the role value -->
              <input type="hidden" name="role" value="{{ user.role }}">
			  <input type="hidden" name="userid" value="{{ user.userid }}">

              <!-- First Name Field -->
              <div class="form-group">
                <label for="first_name" class="control-label">First Name</label>
                <input type="text" name="first_name" id="first_name" autocomplete="off" class="form-control" placeholder="First Name" value="{{ user.first_name }}" />
              </div>

              <!-- Last Name Field -->
              <div class="form-group">
                <label for="last_name" class="control-label">Last Name</label>
                <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Last Name" value="{{ user.last_name }}">
              </div>

              <!-- Email Field -->
              <div class="form-group">
                <label for="email" class="control-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Email" value="{{ user.email }}">
              </div>

              <!-- Address Field (optional) -->
              <div class="form-group">
                <label for="address" class="control-label">Address</label>
                <input type="text" class="form-control" id="address" name="address" placeholder="Address" value="{{ user.address }}">
              </div>
            </div>

            <!-- Hidden fields and submit button -->
            <div class="modal-footer">
              <input type="hidden" name="userid" id="userid" value="{{ user.id }}" />
              <input type="hidden" name="action" id="action" value="updateUser" />
              <!-- Save button is visible for all users -->
              <input type="submit" name="save" id="save" class="btn btn-info" value="Save" />
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
</html>
